{"version":3,"file":"index.esm.js","sources":["../../polyfill/dist/polyfill.esm.js","../../validate/dist/index.esm.js","../../api/dist/index.esm.js","../../shelf/dist/index.esm.js","../../msger/dist/index.esm.js","../src/index.js"],"sourcesContent":["// Array.prototype polifill\r\n(function (window, Array) {\r\n    if (!Array.prototype.map) {\r\n      Array.prototype.map = function (call, thisArg) {\r\n        if (typeof call !== 'function') throw new TypeError(\"not a function\")\r\n  \r\n        var _this = thisArg === undefined ? window : thisArg;\r\n        var res = [];\r\n        for (var i = 0; i < this.length; i++) {\r\n          var e = this[i];\r\n          res.push(call.call(_this, e, i, this));\r\n        }\r\n        return res\r\n      }; \r\n    }\r\n  \r\n    if (!Array.prototype.forEach) {\r\n      Array.prototype.forEach = function (call, thisArg) {\r\n        this.map(call, thisArg);\r\n      };\r\n    }\r\n  \r\n    if (!Array.prototype.filter) {\r\n  \r\n      Array.prototype.filter = function (call, thisArg) {\r\n        if (typeof call !== 'function') throw new TypeError(\"not a function\")\r\n  \r\n        var _this = thisArg === undefined ? window : thisArg;\r\n        var res = [];\r\n        for (var i = 0; i < this.length; i++) {\r\n          var e = this[i];\r\n          if (call.call(_this, e, i, this)) {\r\n            res.push(e);\r\n          }\r\n        }\r\n        return res\r\n      };\r\n    }\r\n  \r\n    if (!Array.prototype.find) {\r\n      Array.prototype.find = function (call, thisArg) {\r\n        if (typeof call !== 'function') throw new TypeError(\"not a function\")\r\n  \r\n        var _this = thisArg === undefined ? window : thisArg;\r\n        var res = undefined;\r\n  \r\n        for (var i = 0; i < this.length; i++) {\r\n          var e = this[i];\r\n          if (call.call(_this, e, i, this)) {\r\n            res = e;\r\n            break\r\n          }\r\n        }\r\n        return res\r\n      };\r\n    }\r\n  \r\n    if (!Array.prototype.every) {\r\n      Array.prototype.every = function (call, thisArg) {\r\n        if (typeof call !== 'function') throw new TypeError(\"not a function\")\r\n  \r\n        var _this = thisArg === undefined ? window : thisArg;\r\n        var res = true;\r\n  \r\n        for (var i = 0; i < this.length; i++) {\r\n          var e = this[i];\r\n          if (!call.call(_this, e, i, this)) {\r\n            res = false;\r\n            break\r\n          }\r\n        }\r\n        return res\r\n      };\r\n    }\r\n  \r\n    if (!Array.prototype.some) {\r\n      Array.prototype.some = function (call, thisArg) {\r\n        if (typeof call !== 'function') throw new TypeError(\"not a function\")\r\n  \r\n        var _this = thisArg === undefined ? window : thisArg;\r\n        var res = false;\r\n  \r\n        for (var i = 0; i < this.length; i++) {\r\n          var e = this[i];\r\n          if (call.call(_this, e, i, this)) {\r\n            res = true;\r\n            break\r\n          }\r\n        }\r\n        return res\r\n      };\r\n    }\r\n  \r\n    if (!Array.prototype.flat) {\r\n  \r\n      Array.prototype.flat = function (depth) {\r\n  \r\n        if (depth && typeof depth !== 'number') throw 'type error : flat need number'\r\n        return flat(this, depth ? depth : 1)\r\n      };\r\n  \r\n      function flat(arr, depth) {\r\n        if (depth <= 0) return arr\r\n        if (!arr.some(function (a) { return a instanceof Array })) return arr\r\n  \r\n        var res = [];\r\n  \r\n        arr.forEach(function (a) {\r\n          if (a instanceof Array) {\r\n            a.forEach(function (v) { res.push(v); });\r\n          } else {\r\n            res.push(a);\r\n          }\r\n        });\r\n  \r\n        return flat(res, depth--)\r\n      }\r\n    }\r\n  \r\n    if (!Array.prototype.reduce) {\r\n  \r\n      Array.prototype.reduce = function (call, init) {\r\n        if (typeof call !== 'function') throw new TypeError(\"not a function\")\r\n  \r\n        if (arguments.length > 1) {\r\n          var res = init;\r\n          for (var i = 0; i < this.length; i++) {\r\n            var e = this[i];\r\n            res = call(res, e, i, this);\r\n          }\r\n          return res\r\n        } else {\r\n          if (this.length < 1) throw 'Reduce of empty array with no initial value'\r\n          var res = this[0];\r\n          for (var i = 1; i < this.length; i++) {\r\n            var e = this[i];\r\n            res = call(res, e, i, this);\r\n          }\r\n          return res\r\n        }\r\n      };\r\n    }\r\n  \r\n    if (!Array.prototype.fill) {\r\n  \r\n      Array.prototype.fill = function (value) {\r\n        for (var i = 0; i < this.length; i++) {\r\n          this[i] = value;\r\n        }\r\n        return this\r\n      };\r\n  \r\n    }\r\n  })(window||{}, Array||{});\n\n(function (global, factory) {\r\n    typeof exports === 'object' && typeof module !== 'undefined' ? factory() :\r\n      typeof define === 'function' && define.amd ? define(factory) :\r\n        (factory());\r\n  }(null, (function () {\r\n  \r\n    /**\r\n     * @this {Promise}\r\n     */\r\n    function finallyConstructor(callback) {\r\n      var constructor = this.constructor;\r\n      return this.then(\r\n        function (value) {\r\n          return constructor.resolve(callback()).then(function () {\r\n            return value;\r\n          });\r\n        },\r\n        function (reason) {\r\n          return constructor.resolve(callback()).then(function () {\r\n            return constructor.reject(reason);\r\n          });\r\n        }\r\n      );\r\n    }\r\n  \r\n    // Store setTimeout reference so promise-polyfill will be unaffected by\r\n    // other code modifying setTimeout (like sinon.useFakeTimers())\r\n    var setTimeoutFunc = setTimeout;\r\n  \r\n    function noop() { }\r\n  \r\n    // Polyfill for Function.prototype.bind\r\n    function bind(fn, thisArg) {\r\n      return function () {\r\n        fn.apply(thisArg, arguments);\r\n      };\r\n    }\r\n  \r\n    /**\r\n     * @constructor\r\n     * @param {Function} fn\r\n     */\r\n    function Promise(fn) {\r\n      if (!(this instanceof Promise))\r\n        throw new TypeError('Promises must be constructed via new');\r\n      if (typeof fn !== 'function') throw new TypeError('not a function');\r\n      /** @type {!number} */\r\n      this._state = 0;\r\n      /** @type {!boolean} */\r\n      this._handled = false;\r\n      /** @type {Promise|undefined} */\r\n      this._value = undefined;\r\n      /** @type {!Array<!Function>} */\r\n      this._deferreds = [];\r\n  \r\n      doResolve(fn, this);\r\n    }\r\n  \r\n    function handle(self, deferred) {\r\n      while (self._state === 3) {\r\n        self = self._value;\r\n      }\r\n      if (self._state === 0) {\r\n        self._deferreds.push(deferred);\r\n        return;\r\n      }\r\n      self._handled = true;\r\n      Promise._immediateFn(function () {\r\n        var cb = self._state === 1 ? deferred.onFulfilled : deferred.onRejected;\r\n        if (cb === null) {\r\n          (self._state === 1 ? resolve : reject)(deferred.promise, self._value);\r\n          return;\r\n        }\r\n        var ret;\r\n        try {\r\n          ret = cb(self._value);\r\n        } catch (e) {\r\n          reject(deferred.promise, e);\r\n          return;\r\n        }\r\n        resolve(deferred.promise, ret);\r\n      });\r\n    }\r\n  \r\n    function resolve(self, newValue) {\r\n      try {\r\n        // Promise Resolution Procedure: https://github.com/promises-aplus/promises-spec#the-promise-resolution-procedure\r\n        if (newValue === self)\r\n          throw new TypeError('A promise cannot be resolved with itself.');\r\n        if (\r\n          newValue &&\r\n          (typeof newValue === 'object' || typeof newValue === 'function')\r\n        ) {\r\n          var then = newValue.then;\r\n          if (newValue instanceof Promise) {\r\n            self._state = 3;\r\n            self._value = newValue;\r\n            finale(self);\r\n            return;\r\n          } else if (typeof then === 'function') {\r\n            doResolve(bind(then, newValue), self);\r\n            return;\r\n          }\r\n        }\r\n        self._state = 1;\r\n        self._value = newValue;\r\n        finale(self);\r\n      } catch (e) {\r\n        reject(self, e);\r\n      }\r\n    }\r\n  \r\n    function reject(self, newValue) {\r\n      self._state = 2;\r\n      self._value = newValue;\r\n      finale(self);\r\n    }\r\n  \r\n    function finale(self) {\r\n      if (self._state === 2 && self._deferreds.length === 0) {\r\n        Promise._immediateFn(function () {\r\n          if (!self._handled) {\r\n            Promise._unhandledRejectionFn(self._value);\r\n          }\r\n        });\r\n      }\r\n  \r\n      for (var i = 0, len = self._deferreds.length; i < len; i++) {\r\n        handle(self, self._deferreds[i]);\r\n      }\r\n      self._deferreds = null;\r\n    }\r\n  \r\n    /**\r\n     * @constructor\r\n     */\r\n    function Handler(onFulfilled, onRejected, promise) {\r\n      this.onFulfilled = typeof onFulfilled === 'function' ? onFulfilled : null;\r\n      this.onRejected = typeof onRejected === 'function' ? onRejected : null;\r\n      this.promise = promise;\r\n    }\r\n  \r\n    /**\r\n     * Take a potentially misbehaving resolver function and make sure\r\n     * onFulfilled and onRejected are only called once.\r\n     *\r\n     * Makes no guarantees about asynchrony.\r\n     */\r\n    function doResolve(fn, self) {\r\n      var done = false;\r\n      try {\r\n        fn(\r\n          function (value) {\r\n            if (done) return;\r\n            done = true;\r\n            resolve(self, value);\r\n          },\r\n          function (reason) {\r\n            if (done) return;\r\n            done = true;\r\n            reject(self, reason);\r\n          }\r\n        );\r\n      } catch (ex) {\r\n        if (done) return;\r\n        done = true;\r\n        reject(self, ex);\r\n      }\r\n    }\r\n  \r\n    Promise.prototype['catch'] = function (onRejected) {\r\n      return this.then(null, onRejected);\r\n    };\r\n  \r\n    Promise.prototype.then = function (onFulfilled, onRejected) {\r\n      // @ts-ignore\r\n      var prom = new this.constructor(noop);\r\n  \r\n      handle(this, new Handler(onFulfilled, onRejected, prom));\r\n      return prom;\r\n    };\r\n  \r\n    Promise.prototype['finally'] = finallyConstructor;\r\n  \r\n    Promise.all = function (arr) {\r\n      return new Promise(function (resolve, reject) {\r\n        if (!arr || typeof arr.length === 'undefined')\r\n          throw new TypeError('Promise.all accepts an array');\r\n        var args = Array.prototype.slice.call(arr);\r\n        if (args.length === 0) return resolve([]);\r\n        var remaining = args.length;\r\n  \r\n        function res(i, val) {\r\n          try {\r\n            if (val && (typeof val === 'object' || typeof val === 'function')) {\r\n              var then = val.then;\r\n              if (typeof then === 'function') {\r\n                then.call(\r\n                  val,\r\n                  function (val) {\r\n                    res(i, val);\r\n                  },\r\n                  reject\r\n                );\r\n                return;\r\n              }\r\n            }\r\n            args[i] = val;\r\n            if (--remaining === 0) {\r\n              resolve(args);\r\n            }\r\n          } catch (ex) {\r\n            reject(ex);\r\n          }\r\n        }\r\n  \r\n        for (var i = 0; i < args.length; i++) {\r\n          res(i, args[i]);\r\n        }\r\n      });\r\n    };\r\n  \r\n    Promise.resolve = function (value) {\r\n      if (value && typeof value === 'object' && value.constructor === Promise) {\r\n        return value;\r\n      }\r\n  \r\n      return new Promise(function (resolve) {\r\n        resolve(value);\r\n      });\r\n    };\r\n  \r\n    Promise.reject = function (value) {\r\n      return new Promise(function (resolve, reject) {\r\n        reject(value);\r\n      });\r\n    };\r\n  \r\n    Promise.race = function (values) {\r\n      return new Promise(function (resolve, reject) {\r\n        for (var i = 0, len = values.length; i < len; i++) {\r\n          values[i].then(resolve, reject);\r\n        }\r\n      });\r\n    };\r\n  \r\n    // Use polyfill for setImmediate for performance gains\r\n    Promise._immediateFn =\r\n      (typeof setImmediate === 'function' &&\r\n        function (fn) {\r\n          setImmediate(fn);\r\n        }) ||\r\n      function (fn) {\r\n        setTimeoutFunc(fn, 0);\r\n      };\r\n  \r\n    Promise._unhandledRejectionFn = function _unhandledRejectionFn(err) {\r\n      if (typeof console !== 'undefined' && console) {\r\n        console.warn('Possible Unhandled Promise Rejection:', err); // eslint-disable-line no-console\r\n      }\r\n    };\r\n  \r\n    /** @suppress {undefinedVars} */\r\n    var globalNS = (function () {\r\n      // the only reliable means to get the global object is\r\n      // `Function('return this')()`\r\n      // However, this causes CSP violations in Chrome apps.\r\n      if (typeof self !== 'undefined') {\r\n        return self;\r\n      }\r\n      if (typeof window !== 'undefined') {\r\n        return window;\r\n      }\r\n      if (typeof global !== 'undefined') {\r\n        return global;\r\n      }\r\n      throw new Error('unable to locate global object');\r\n    })();\r\n  \r\n    if (!('Promise' in globalNS)) {\r\n      globalNS['Promise'] = Promise;\r\n    } else if (!globalNS.Promise.prototype['finally']) {\r\n      globalNS.Promise.prototype['finally'] = finallyConstructor;\r\n    }\r\n  \r\n  })));\n","var defCheck = [\r\n    {\r\n        name: 'noBlank', fn: function (v) {\r\n            var value = $.trim(v);\r\n            return typeof value === 'string' ? $.trim(value) === '' : true\r\n        }\r\n    },\r\n    {\r\n        name: 'maxLen', fn: function (v, len) {\r\n            var value = $.trim(v);\r\n            return value ? value.length > len : false\r\n        }\r\n    },\r\n    {\r\n        name: 'noSpecialLetter', fn: function (v) {\r\n            var value = $.trim(v);\r\n            if (value.indexOf(\"'\") >= 0) {\r\n                return true\r\n            }\r\n            if (value.indexOf('\"') >= 0) {\r\n                return true\r\n            }\r\n            if (value.indexOf('?') >= 0) {\r\n                return true\r\n            }\r\n            if (value.indexOf('&') >= 0) {\r\n                return true\r\n            }\r\n        }\r\n    }, {\r\n        name: 'noSpecialLetter2', fn: function (v) {\r\n            var value = $.trim(v);\r\n            return new RegExp(\"[`~!@#$^&*()=|{}':;'\\\\[\\\\]<>/?~！@#￥……&*——|{}【】‘；：”“'。、？]\").test(value)\r\n        }\r\n    },\r\n    {\r\n        name: 'beforeDate', fn: function (va1, va2) {\r\n\r\n            var v1 = $.trim(va1);\r\n            var v2 = $.trim(va2);\r\n            if (!v1 || !v2) return false\r\n\r\n            var d1 = new Date(v1.split('-').join('/').split('.').join('/')).getTime();\r\n            var d2 = new Date(v2.split('-').join('/').split('.').join('/')).getTime();\r\n\r\n            if ((d1 || d1 === 0) && (d2 || d2 === 0)) {\r\n                return d1 >= d2\r\n            } else {\r\n                return false\r\n            }\r\n        }\r\n    },\r\n    {\r\n        name: 'beforeNow', fn: function (v) {\r\n            var value = $.trim(v);\r\n            if (!value) return false\r\n\r\n            var d1 = new Date(value.split('-').join('/').split('.').join('/')).getTime();\r\n            var d2 = new Date().getTime();\r\n\r\n            if ((d1 || d1 === 0) && (d2 || d2 === 0)) {\r\n                return d1 >= d2\r\n            } else {\r\n                return false\r\n            }\r\n        }\r\n    },\r\n    {\r\n        name: 'phone', fn: function (v) {\r\n            var value = $.trim(v);\r\n            return value ? !(/^(1[3,4,5,7,8])\\d{9}$/.test(value)) : false\r\n        }\r\n    },\r\n    {\r\n        name: 'email', fn: function (v) {\r\n            var value = $.trim(v);\r\n            return value ? !/^([a-zA-Z0-9_-])+@([a-zA-Z0-9_-])+(.[a-zA-Z0-9_-])+/.test(value) : false\r\n        }\r\n    },\r\n    {\r\n        name: 'noBr', fn: function (v) {\r\n            var value = $.trim(v);\r\n            return typeof value === 'string' ? value.indexOf('\\n') > 0 : false\r\n        }\r\n    },\r\n    {\r\n        name: 'idCard', fn: function (sfz, birth, isMale) {\r\n            function isTrueValidateCodeBy18IdCard(idCard) {\r\n                var Wi = [7, 9, 10, 5, 8, 4, 2, 1, 6, 3, 7, 9, 10, 5, 8, 4, 2, 1];// 加权因子 \r\n                var ValideCode = [1, 0, 10, 9, 8, 7, 6, 5, 4, 3, 2];// 身份证验证位值.10代表X \r\n                var sum = 0; // 声明加权求和变量 \r\n                for (var i = 0; i < 17; i++) {\r\n                    var tempnum = idCard.substring(i, i + 1);\r\n                    if (tempnum == 'x' || tempnum == 'X') {\r\n                        tempnum = 10;// 将最后位为x的验证码替换为10方便后续操作 \r\n                    }\r\n                    sum += Wi[i] * tempnum;// 加权求和 \r\n                }\r\n                valCodePosition = sum % 11;// 得到验证码所位置 \r\n                var a_idCard_num = idCard[17];\r\n                if (a_idCard_num == 'x' || a_idCard_num == 'X') {\r\n                    a_idCard_num = 10;\r\n                }\r\n                if (a_idCard_num == ValideCode[valCodePosition]) {\r\n                    return true;\r\n                } else {\r\n                    return false;\r\n                }\r\n            }\r\n            function isValidityBrithBy18IdCard(idCard18) {\r\n                var year = idCard18.substring(6, 10);\r\n                var month = idCard18.substring(10, 12);\r\n                var day = idCard18.substring(12, 14);\r\n                var temp_date = new Date(year, parseFloat(month) - 1, parseFloat(day));\r\n                // 这里用getFullYear()获取年份，避免千年虫问题   \r\n                if (temp_date.getFullYear() != parseFloat(year)\r\n                    || temp_date.getMonth() != parseFloat(month) - 1\r\n                    || temp_date.getDate() != parseFloat(day)) {\r\n                    return false;\r\n                } else {\r\n                    return true;\r\n                }\r\n            }\r\n            var value = sfz;\r\n            if (value.length !== 15 && value.length !== 18) return '身份证长度不符合要求'\r\n\r\n            if (value.length === 18) {\r\n                // 验证效验码\r\n                if (!isTrueValidateCodeBy18IdCard(value)) return '身份证校验码验证错误'\r\n            } else {\r\n                // 将15位补全为18位\r\n                value = value.substring(0, 6) + '19' + value.substring(6, 15) + 'X';\r\n            }\r\n            // 验证数字\r\n            if (!(\r\n                /^[0-9]*$/.test(value.substring(0, 17)) &&\r\n                /[0-9]|[x|X]/.test(value.substring(17, 18))\r\n            )) return '身份证号应为数字'\r\n\r\n            // 18位数身份证号码中的生日是否是有效生日\r\n            if (!isValidityBrithBy18IdCard(value)) return '身份证号码中的生日不是有效日期'\r\n            // 验证生日\r\n            if (birth) {\r\n                var nyr = birth.split('-');\r\n                if (!(\r\n                    (\r\n                        (!nyr[0]) && (nyr[0] === value.substring(6, 10))\r\n                    ) &&\r\n                    (\r\n                        (!nyr[1]) && (parseInt(nyr[1]) === parseInt(value.substring(10, 12)))\r\n                    ) &&\r\n                    (\r\n                        (!nyr[2]) && (parseInt(nyr[2]) === parseInt(value.substring(12, 14)))\r\n                    )\r\n                )) {\r\n                    return '身份证号与出生日期不符'\r\n                }\r\n            }\r\n            // 验证性别\r\n            if (isMale === false || isMale === true) {\r\n                if (\r\n                    (\r\n                        (isMale === true) &&\r\n                        (parseInt(value.substring(16, 17) % 2 === 0))\r\n                    ) ||\r\n                    (\r\n                        (isMale === false) &&\r\n                        (parseInt(value.substring(16, 17) % 2 === 1))\r\n                    )\r\n                ) return '身份证号与性别不符'\r\n            }\r\n            return false\r\n        }\r\n    },\r\n    {\r\n        name: 'onlyChineseWord', fn: function (value, birth, isMale) {\r\n            var txt = /^[\\u4e00-\\u9fa5\\s|.]+$/;\r\n            while (value.indexOf('　') != -1) //将全角空格替换成半角空格\r\n            {\r\n                value = value.replace('　', ' ');\r\n            }\r\n            if (txt.test(value)) {\r\n                return false;\r\n            }\r\n            return true;\r\n        }\r\n    }];\n\nvar defTable = defCheck.reduce(function (t, v) {\r\n    t[v.name] = v.fn;\r\n    return t\r\n}, {});\r\n\r\nvar logic = {\r\n    and: function (fn) {\r\n        // 上一级返回 true 时进行判断\r\n        var a = this();\r\n        if (a) return fn\r\n        else return function (msg) { return false }\r\n    },\r\n    or: function () {\r\n        // 上一级返回 false 时进行判断\r\n        var a = this();\r\n        if (a) return function (msg) { return msg }\r\n        else return fn\r\n    },\r\n    not: function (msg) {\r\n        var res = this();\r\n        return res ? false : msg\r\n    }\r\n};\r\n\r\nfunction Validate(op) {\r\n    var option = op || {};\r\n    var use = option.use || 'all';\r\n    var custom = option.custom || {};\r\n\r\n    if (use === 'all') use = defCheck.map(function (v) { return v.name });\r\n\r\n    var mTable = use.reduce(function (t, name) {\r\n        t[name] = defTable[name];\r\n        return t\r\n    }, {});\r\n\r\n    mTable = $.extend(mTable, custom);\r\n\r\n    var result = this;\r\n\r\n    for (var key in mTable) {\r\n        if (!mTable.hasOwnProperty(key)) continue\r\n        (function (key) {\r\n            result[key] = function () {\r\n                var args = arguments;\r\n                return $.extend(function (msg) {\r\n                    var res = mTable[key].apply(null, args);\r\n                    //处理异步结果\r\n                    if (res && res.then) {\r\n                        return res.then(function (v) {\r\n                            return v && (msg || v)\r\n                        })\r\n                    }\r\n                    return res && (msg || res) // 没有 msg 返回 res，存在 msg ，如果 res 为 true 返回 msg\r\n                }, logic)\r\n            };\r\n        })(key);\r\n    }\r\n\r\n    return result\r\n}\r\n\r\nValidate.prototype = {\r\n    and: function (fn) {\r\n        // 上一级返回 true 时进行判断\r\n        var a = this();\r\n        if (a) return fn\r\n        else return function (msg) { return false }\r\n    },\r\n    or: function () {\r\n        // 上一级返回 false 时进行判断\r\n        var a = this();\r\n        if (a) return function (msg) { return msg }\r\n        else return fn\r\n    },\r\n    not: function (msg) {\r\n        var res = this();\r\n        return res ? false : msg\r\n    }\r\n};\r\n\r\n// 静态方法\r\nValidate.create = function (op) { return new this(op) };\r\nValidate.$async = function (arr) {\r\n\r\n\r\n    return new Promise(function (res) {\r\n        var i = arr.length;\r\n        function check(value) {\r\n            if (value) res(value);\r\n            else if (i === 0) res(false);\r\n        }\r\n\r\n        if (arr.length === 0) return res(false)\r\n        arr.forEach(function (v) {\r\n            if (v && v.then) v.then(function (value) {\r\n                i--;\r\n                check(value);\r\n            })['catch'](function () { i--; check(); });\r\n            else {\r\n                i--;\r\n                check(false);\r\n            }\r\n        });\r\n    })\r\n};\n\nexport default Validate;\n","function Dom(str) {\r\n    var v = document.createElement('div');\r\n    v.innerHTML = $.trim(str);\r\n    return v.firstChild\r\n}\r\n\r\nif (!$('#loading_bar').get(0)) {\r\n    $(function () {\r\n        $('body').get(0).appendChild(Dom('<div style=\"display:none\" id = \"loading_bar\"><div></div></div>'));\r\n    });\r\n}\r\n// 通用的 ajax 方法，添加了异常处理逻辑\r\nvar task = 0;\r\nfunction ajax(op) {\r\n    task += 1;\r\n    $('#loading_bar').get(0).style.top = 0;\r\n    return new Promise(function (res, rej) {\r\n        $.ajax($.extend({\r\n            type: \"get\",\r\n            url: '',\r\n            async: true,\r\n            success: function (data) {\r\n                try {\r\n                    var ms = JSON.parse(data);\r\n                    if (ms.Code === 0 || ms.Code === \"0\") {\r\n                        res(ms.Data);\r\n                    } else {\r\n                        rej(ms.Desc);\r\n                    }\r\n                }\r\n                catch (e) { rej(data); }\r\n            },\r\n            error: function (data) {\r\n                rej(data);\r\n            },\r\n            complete: function () {\r\n                if (task <= 1) {\r\n                    task = 0;\r\n                    $('#loading_bar').get(0).style.top = '-2px';\r\n                } else {\r\n                    task--;\r\n                }\r\n            }\r\n        }, op));\r\n    })\r\n}\n\nfunction Api(func) {\r\n    var res = {};\r\n    var reg = function (name, call) { res[name] = call; };\r\n    var a = func(ajax, reg);\r\n    if(a){\r\n        $.extend(res,a);\r\n    }\r\n    return res\r\n}\r\n\r\nApi.create = function (f) { return Api(f) };\n\nexport default Api;\n","function get (src) {\r\n    return new Promise(function (res, rej) {\r\n        $.ajax({\r\n            type: \"get\",\r\n            url: src, //需要获取的页面内容\r\n            async: true,\r\n            success: function (data) {\r\n                res(data);\r\n            },\r\n            error: function (data) {\r\n                console.warn('shelf load error: ' + data);\r\n                rej();\r\n            }\r\n        });\r\n    })\r\n}\n\n/**\r\n *  一个简单的解析模板的词法分析器，用正则实现\r\n *  输出为一个词数组 \r\n *  */\r\nvar _END_ = '_END_';\r\nvar _FINISH_ = '_FINISH_';\r\nvar _LOOP_ = '_LOOP_';\r\nvar _IF_ = '_IF_';\r\nvar _ELSE_ = '_ELSE_';\r\n\r\nfunction createWords(str) {\r\n\r\n    var words = [str];\r\n    // deal '<!--end-->' word\r\n    words = words.reduce(function (arr, v) {\r\n        if (typeof v === 'object') arr.push(v);\r\n        else {\r\n            var theWords = v.split('<!--end-->').reduce(function (a, b) {\r\n                if (b !== '') a.push(b);\r\n                a.push({ type: _END_, value: '' });\r\n                return a\r\n            }, []);\r\n            if (theWords.length > 0) theWords.pop();\r\n\r\n            arr = arr.concat(theWords);\r\n        }\r\n        return arr\r\n    }, []);\r\n    // deal '<!--finish-->' word\r\n    words = words.reduce(function (arr, v) {\r\n        if (typeof v === 'object') arr.push(v);\r\n        else {\r\n            var theWords = v.split('<!--finish-->').reduce(function (a, b) {\r\n                if (b !== '') a.push(b);\r\n                a.push({ type: _FINISH_, value: '' });\r\n                return a\r\n            }, []);\r\n            if (theWords.length > 0) theWords.pop();\r\n\r\n            arr = arr.concat(theWords);\r\n        }\r\n        return arr\r\n    }, []);\r\n    // deal '<!--loop(case)-->' word\r\n    words = words.reduce(function (arr, v) {\r\n        if (typeof v === 'object') arr.push(v);\r\n        else {\r\n            var s = v;\r\n            var headbegin;\r\n            while (s.indexOf('<!--loop(', headbegin) >= 0) {\r\n                var headbegin = s.indexOf('<!--loop(', headbegin);\r\n                var headEnd = s.indexOf(')-->');\r\n                var head = s.substring(headbegin + 9 /*'<!--loop('.length*/, headEnd);\r\n                arr.push(s.substring(0, headbegin));\r\n                arr.push({ type: _LOOP_, value: head });\r\n                s = s.substring(headEnd + 4);\r\n            }\r\n            arr.push(s);\r\n        }\r\n        return arr\r\n    }, []);\r\n\r\n    // deal '<!--if(case)-->' word\r\n    words = words.reduce(function (arr, v) {\r\n        if (typeof v === 'object') arr.push(v);\r\n        else {\r\n            var s = v;\r\n            var headbegin;\r\n            while (s.indexOf('<!--if(', headbegin) >= 0) {\r\n                var headbegin = s.indexOf('<!--if(', headbegin);\r\n                var headEnd = s.indexOf(')-->');\r\n                var head = s.substring(headbegin + 7 /*'<!--if('.length*/, headEnd);\r\n                arr.push(s.substring(0, headbegin));\r\n                arr.push({ type: _IF_, value: head });\r\n                s = s.substring(headEnd + 4);\r\n            }\r\n            arr.push(s);\r\n        }\r\n        return arr\r\n    }, []);\r\n\r\n    // deal '<!--else(case)-->' word\r\n    words = words.reduce(function (arr, v) {\r\n        if (typeof v === 'object') arr.push(v);\r\n        else {\r\n            var s = v;\r\n            while (s.indexOf('<!--else(', headbegin) >= 0) {\r\n                var headbegin = s.indexOf('<!--else(', headbegin);\r\n                var headEnd = s.indexOf(')-->');\r\n                var head = s.substring(headbegin + 9 /*'<!--else('.length*/, headEnd);\r\n                arr.push(s.substring(0, headbegin));\r\n                arr.push({ type: _ELSE_, value: head });\r\n                s = s.substring(headEnd + 4);\r\n            }\r\n            arr.push(s);\r\n        }\r\n        return arr\r\n    }, []);\r\n\r\n    return words\r\n}\n\n/**\r\n *  一个简单的解析模板的语法分析器\r\n *  */\r\nvar _END_$1 = '_END_';\r\nvar _FINISH_$1 = '_FINISH_';\r\nvar _LOOP_$1 = '_LOOP_';\r\nvar _IF_$1 = '_IF_';\r\nvar _ELSE_$1 = '_ELSE_';\r\n\r\nvar _QUEUE_ = '_QUEUE_';\r\nvar _IF_BLOCK_ = '_IF_BLOCK_';\r\nvar _IF_CASE_ = '_IF_CASE_';\r\nvar _LOOP_CASE_ = '_LOOP_TREE_';\r\n\r\nfunction createTree(words) {\r\n    function newQueue() { return { type: _QUEUE_, queue: [] } }\r\n    function newIf() { return { type: _IF_BLOCK_, ifCaseArr: [] } }\r\n    function newIf_case(condition) { return { type: _IF_CASE_, condition: condition, queue: [] } }\r\n    function newLoop(array) { return { type: _LOOP_CASE_, array: array, queue: [] } }\r\n\r\n    var main = newQueue();\r\n    var stack = {\r\n        _arr: [main],\r\n        top: main,\r\n        push: function (item) {\r\n            this._arr.push(item);\r\n            this.top = item;\r\n        },\r\n        pop: function () {\r\n            this._arr.pop();\r\n            this.top = this._arr[this._arr.length - 1];\r\n        }\r\n    };\r\n\r\n    var err = '';\r\n\r\n    words.find(function (v) {\r\n        if (typeof v === 'string') {\r\n            if (!stack.top || !stack.top.queue) {\r\n                return err = '解析模板错误'\r\n            } else {\r\n                stack.top.queue.push(v);\r\n            }\r\n        } else if (v && v.type === _IF_$1) {\r\n            var a = newIf();\r\n            var b = newIf_case(v.value);\r\n\r\n            a.ifCaseArr.push(b);\r\n\r\n            if (!stack.top || !stack.top.queue) {\r\n                return err = '解析模板错误'\r\n            } else {\r\n                stack.top.queue.push(a);\r\n                stack.push(a);\r\n                stack.push(b);\r\n            }\r\n        } else if (v && v.type === _ELSE_$1) {\r\n            var b = newIf_case(v.value);\r\n\r\n            stack.pop();\r\n            if (!stack.top || !stack.top.ifCaseArr) {\r\n                return err = '解析模板错误'\r\n            } else {\r\n                stack.top.ifCaseArr.push(b);\r\n                stack.push(b);\r\n            }\r\n        } else if (v && v.type === _FINISH_$1) {\r\n            if (stack.top.type !== _IF_CASE_) return err = '解析模板错误'\r\n            stack.pop();\r\n            if (stack.top.type !== _IF_BLOCK_) return err = '解析模板错误'\r\n            stack.pop();\r\n        } else if (v && v.type === _LOOP_$1) {\r\n            var b = newLoop(v.value);\r\n\r\n            if (!stack.top || !stack.top.queue) {\r\n                return err = '解析模板错误'\r\n            } else {\r\n                stack.top.queue.push(b);\r\n                stack.push(b);\r\n            }\r\n        } else if (v && v.type === _END_$1) {\r\n            if (!stack.top || (stack.top.type !== _LOOP_CASE_)) {\r\n                return err = '解析模板错误'\r\n            } else {\r\n                stack.pop();\r\n            }\r\n        }\r\n    });\r\n\r\n    if (err) console.warn(err);\r\n\r\n    else return main\r\n}\r\n\r\nfunction translateTree(item) {\r\n    if (item && item.type === _QUEUE_) {\r\n        item.queue = item.queue.map(function (v) {\r\n            return translateTree(v)\r\n        });\r\n        return item\r\n    } else if (item && item.type === _IF_BLOCK_) {\r\n        item.ifCaseArr = item.ifCaseArr.map(function (v) {\r\n            return translateTree(v)\r\n        });\r\n        return item\r\n    } else if (item && item.type === _IF_CASE_) {\r\n        item.queue = item.queue.map(function (v) {\r\n            return translateTree(v)\r\n        });\r\n        return item\r\n    } else if (item && item.type === _LOOP_CASE_) {\r\n        item.queue = item.queue.map(function (v) {\r\n            return translateTree(v)\r\n        });\r\n        return item\r\n    } else if (typeof item === 'string') {\r\n        return createContent(item)\r\n    }\r\n}\r\n\r\n\r\n/**\r\n *  从语法树中取去模板字符串\r\n *  */\r\nvar _CONTENT_ = '_CONTENT_';\r\nvar _DATA_ = '_DATA_';\r\n\r\nfunction createContent(str) {\r\n    function newData(data) {\r\n        return {\r\n            type: _DATA_,\r\n            data: data\r\n        }\r\n    }\r\n    var content = {\r\n        type: _CONTENT_,\r\n        queue: []\r\n    };\r\n\r\n    var s = str;\r\n    var begin = -1;\r\n    while ((begin = s.indexOf('${')) >= 0) {\r\n        content.queue.push(s.substring(0, begin));\r\n        var rest = s.substring(begin);\r\n        var end = rest.indexOf('}');\r\n        if (end < 0) {\r\n            content.queue.push(rest);\r\n            break\r\n        }\r\n        var data = rest.substring(2, end);\r\n        content.queue.push(newData(data));\r\n        s = rest.substring(end + 1);\r\n    }\r\n    content.queue.push(s);\r\n\r\n    return content\r\n}\n\nfunction parse (str) {\r\n    var words = createWords(str);\r\n    // console.log(words)\r\n    var tree = createTree(words);\r\n    // console.log(tree)\r\n    var content = translateTree(tree);\r\n    // console.log(content)\r\n    return content\r\n}\n\nvar _CONTENT_$1 = '_CONTENT_';\r\nvar _DATA_$1 = '_DATA_';\r\n\r\n\r\nvar _QUEUE_$1 = '_QUEUE_';\r\nvar _IF_BLOCK_$1 = '_IF_BLOCK_';\r\nvar _IF_CASE_$1 = '_IF_CASE_';\r\nvar _LOOP_CASE_$1 = '_LOOP_TREE_';\r\n\r\n\r\n// 解决严格模式不能用 with 语句的问题\r\nvar evalData = new Function('__str__', 'data',\r\n    'try {' +\r\n    'with (data) {' +\r\n    'return eval(__str__.replace(/\\\\&amp\\\\;/g, \"&\").replace(/\\\\&gt\\\\;/, \">\"))' +\r\n    '}' +\r\n    '} catch (e) {' +\r\n    'console.warn(\"err:\" + __str__)' +\r\n    '}'\r\n);\r\n\r\nwindow.evalData = evalData;\r\n\r\nfunction load(v, data) {\r\n\r\n    if (!v) return ''\r\n\r\n    if (typeof v === 'string') return v\r\n\r\n    if (v instanceof Array) return v.map(function (v) { return load(v, data) }).join('')\r\n\r\n    switch (v.type) {\r\n\r\n        case _CONTENT_$1: return load(v.queue, data)\r\n\r\n        case _QUEUE_$1: return load(v.queue, data)\r\n\r\n        case _DATA_$1: return evalData(v.data, data)\r\n\r\n        case _IF_BLOCK_$1:\r\n            var r = v.ifCaseArr.find(function (cas) {\r\n                if (cas.type !== _IF_CASE_$1) throw new Error('shelf parse error')\r\n                if (evalData(cas.condition, data)) return true\r\n                else return false;\r\n            });\r\n\r\n            if (r) return load(r.queue, data)\r\n            else return ''\r\n\r\n        case _LOOP_CASE_$1:\r\n            var arr = evalData(v.array, data);\r\n            if (!(arr instanceof Array)) throw new Error('shelf parse error')\r\n\r\n            return arr.map(function (item, index, array) {\r\n                return load(v.queue, $.extend({}, data, { _index: index, _item: item, _array: array }))\r\n            }).join('')\r\n    }\r\n}\n\nvar template = {\r\n    get:get,\r\n    parse:parse,\r\n    load:load\r\n};\n\nfunction scan (store) {\r\n\r\n    function getCmpt(name) { return store.find(function (v) { return v.name === name }) }\r\n    // 将 url 信息添加到组件\r\n    $('script').get().filter(function (v) {\r\n        return /^shelf-/.test(v.className)\r\n    }).map(function (v) {\r\n        var src = v.src;\r\n        var name = v.className.match(/^shelf-(\\w*)/)[1];\r\n        if (getCmpt(name)) { getCmpt(name).url = src; }\r\n    });\r\n\r\n    // 通过 ajax 获取外部的组件模板\r\n    return new Promise(function (res) {\r\n        Promise.all(\r\n            store.filter(function (v) {\r\n                return v.path\r\n            }).map(function (v) {\r\n                return {\r\n                    name: v.name,\r\n                    url: path_resolve(v.url, v.path)\r\n                }\r\n            }).map(function (v) {\r\n                return new Promise(function (res, rej) {\r\n                    template.get(v.url).then(function (data) {\r\n                        getCmpt(v.name).template = template.parse(data);\r\n                        res();\r\n                    })['catch'](function (e) {\r\n                        rej('shelf load error' + e ? (':' + e) : '!');\r\n                    });\r\n                })\r\n            })\r\n        )['finally'](function () {\r\n            res();\r\n        });\r\n    })\r\n\r\n}\r\n\r\n\r\n// 只能解析路径，不可以用于解析 url\r\nfunction path_resolve(from, to) {\r\n    var to_arr = $.trim(to).split('/');\r\n    // 绝对路径的情况\r\n    if (to_arr[0] === '') return to\r\n    if (to_arr[0] === 'http') return to\r\n    if (to_arr[0] === 'https') return to\r\n\r\n    var back = 1;\r\n    while (to_arr[0] === '..' || to_arr[0] === '.') {\r\n        if (to_arr[0] === '.') {\r\n            to_arr.shift();\r\n            break\r\n        }\r\n        if (to_arr[0] === '..') {\r\n            back++;\r\n            to_arr.shift();\r\n        }\r\n    }\r\n\r\n    var from_arr = $.trim(from).split('/');\r\n\r\n    for (var i = 0; i < back; i++) {\r\n        if (from_arr.length === 0) from_arr.push('..');\r\n        else if (from_arr[from_arr.length - 1] === '..') from_arr.push('..');\r\n        else if (from_arr[from_arr.length - 1] === '.') {\r\n            from_arr.pop();\r\n            from_arr.push('..');\r\n        } else { from_arr.pop(); }\r\n    }\r\n\r\n    return from_arr.concat(to_arr).join('/')\r\n}\n\nvar load$1 = template.load;\r\n\r\nfunction dom(str) {\r\n    var v = document.createElement('div');\r\n    v.innerHTML = $.trim(str);\r\n    return v.firstChild\r\n}\r\n// 节流函数，用于监听滚动\r\nfunction throttle(fn, delay) {\r\n    var timeout = null;\r\n    var PromiseRes = [];\r\n    return function () {\r\n        return new Promise(function (res) {\r\n            var _this = this;\r\n            PromiseRes.push(res);\r\n\r\n            if (timeout) clearTimeout(timeout);\r\n\r\n            timeout = setTimeout(function () {\r\n                fn.call(_this, arguments);\r\n                PromiseRes.forEach(function (v) { if (v) v(); });\r\n                PromiseRes = [];\r\n                timeout = null;\r\n            }, delay);\r\n        })\r\n    }\r\n}\r\n\r\nfunction common(op, component, store) {\r\n    var option = $.extend({}, op);\r\n\r\n    var name = option.name;\r\n    var path = option.path;\r\n    var template = option.template;\r\n\r\n    var cmptClass = component;\r\n\r\n    if (!name) return\r\n    if (!template && !path) return\r\n    if (!(typeof cmptClass === 'function')) return\r\n\r\n    return {\r\n        name: name,\r\n        path: path,\r\n        creator: function (container, props) {\r\n            var cntr = container || dom('<div></div>');\r\n            var option = cmptClass() || {};\r\n            var cmpt = store.find(function (v) { return v.name === name });\r\n            var template = cmpt ? cmpt.template ? cmpt.template : [] : [];\r\n\r\n            var render = option.render || function (props) { return props || {} };\r\n            var init = option.init || function () { };\r\n\r\n            var data = render(props);\r\n            var html = load$1(template, data);\r\n            var outer = option.outer || {};\r\n\r\n            var obj = {\r\n                name: name,\r\n                data: data,\r\n                root: cntr,\r\n                template: template,\r\n                update: throttle(function () {\r\n                    cntr.innerHTML = load$1(obj.template, obj.data);\r\n                    init.call(obj, cntr);\r\n                }, 100),\r\n                emit: function (name, argus) {\r\n                    if (typeof outer[name] === 'function') {\r\n                        return outer[name].apply(obj, argus ? argus : [])\r\n                    }\r\n                },\r\n                distroy: function () {\r\n                    $(obj.root).remove();\r\n                    delete obj.template;\r\n                    delete obj.data;\r\n                    delete obj.name;\r\n                    delete obj.root;\r\n                    delete obj.update;\r\n                    delete obj.distroy;\r\n                    delete obj.emit;\r\n                }\r\n            };\r\n\r\n            cntr.innerHTML = html;\r\n            init.call(obj, cntr);\r\n            return obj\r\n        }\r\n    }\r\n}\r\n\r\nfunction define (store) {\r\n    return {\r\n        defineWithPath: function (name, path, cmptClass) {\r\n            var cmpt = common({ name: name, path: path }, cmptClass, store);\r\n            if (cmpt) store.push(cmpt);\r\n        },\r\n        defineWithStaticAttr: function (cmptClass) {\r\n            var cmpt = common({ name: cmptClass.name, path: cmptClass.path, template: cmptClass.template }, cmptClass, store);\r\n            if (cmpt) store.push(cmpt);\r\n        },\r\n        defineCommon: function (op, component) {\r\n            var cmpt = common(op, component, store);\r\n            if (cmpt) store.push(cmpt);\r\n        }\r\n    }\r\n}\n\nvar store = [];\r\nvar task = [];\r\nvar defFunc = define(store);\r\n\r\n\r\nvar Shelf = {\r\n    template: template,\r\n\r\n    define: defFunc.defineCommon,\r\n\r\n    get: function (name) { \r\n        var cmpt = store.find(function (v) { return v.name === name });\r\n        if(cmpt) return cmpt.creator\r\n        else throw new Error(\"Can't find the component named '\"+name+\"'!\")\r\n    },\r\n\r\n    done: function (cb) {\r\n        if (task) {\r\n            if(cb) task.push(cb);\r\n            \r\n            return new Promise(function(res,rej){\r\n                task.push(res);\r\n            })\r\n        }\r\n        else {\r\n            if(cb) cb();\r\n            return new Promise(function(res,rej){\r\n                res();\r\n            })\r\n        }\r\n        \r\n    },\r\n\r\n    _:{\r\n        store:function(){return store},\r\n        task:function(){return task}\r\n    }\r\n};\r\n\r\n$(function () {\r\n    scan(store).then(function () {\r\n        // 加载完成则调用 task 上所有挂载的任务 \r\n        if (task) task.forEach(function (cb) { cb(); });\r\n        // 不需要 task 去存储任务\r\n        task = null;\r\n    });\r\n});\n\nexport default Shelf;\n//# sourceMappingURL=index.esm.js.map\n","function Event(){\r\n    var obj = {};\r\n\r\n    return {\r\n        regist:function(name,cb){\r\n            obj[name] = cb;\r\n            return this\r\n        },\r\n        emit:function(name,args){\r\n            if(!obj[name]) return console.warn(\"can't find method named '\"+name+'\" !')\r\n            return obj[name].apply(null,args || [])\r\n        \r\n        }\r\n    }\r\n}\n\nexport default Event;\n","import 'polyfill'\r\n\r\nimport Validate from 'validate'\r\nimport Api from 'api'\r\nimport Shelf from 'shelf'\r\nimport Msger from 'msger'\r\n\r\n\r\nfunction Dom(str) {\r\n    var v = document.createElement('div')\r\n    v.innerHTML = $.trim(str)\r\n    return v.firstChild || document.createElement('span')\r\n}\r\n\r\nexport {\r\n    Validate, // 验证工具\r\n    Api, // ajax 工具\r\n    Shelf ,// 组件框架\r\n    Msger,\r\n    Dom\r\n}\r\n\r\n\r\nwindow.Validate = Validate\r\nwindow.Api = Api\r\nwindow.Shelf = Shelf\r\nwindow.Msger = Msger\r\nwindow.Dom = Dom"],"names":["global","task","Dom","Msger"],"mappings":"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"}