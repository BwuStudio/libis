{"version":3,"file":"index.cjs.js","sources":["../src/template/get.js","../src/template/parse/createWords.js","../src/template/parse/createTree.js","../src/template/parse/index.js","../src/template/load.js","../src/template/index.js","../src/scan.js","../src/define.js","../src/index.js"],"sourcesContent":["export default function (src) {\r\n    return new Promise(function (res, rej) {\r\n        $.ajax({\r\n            type: \"get\",\r\n            url: src, //需要获取的页面内容\r\n            async: true,\r\n            success: function (data) {\r\n                res(data)\r\n            },\r\n            error: function (data) {\r\n                console.warn('shelf load error: ' + data)\r\n                rej()\r\n            }\r\n        })\r\n    })\r\n}","/**\r\n *  一个简单的解析模板的词法分析器，用正则实现\r\n *  输出为一个词数组 \r\n *  */\r\nvar _END_ = '_END_'\r\nvar _FINISH_ = '_FINISH_'\r\nvar _LOOP_ = '_LOOP_'\r\nvar _IF_ = '_IF_'\r\nvar _ELSE_ = '_ELSE_'\r\n\r\nfunction createWords(str) {\r\n\r\n    var words = [str]\r\n    // deal '<!--end-->' word\r\n    words = words.reduce(function (arr, v) {\r\n        if (typeof v === 'object') arr.push(v)\r\n        else {\r\n            var theWords = v.split('<!--end-->').reduce(function (a, b) {\r\n                if (b !== '') a.push(b)\r\n                a.push({ type: _END_, value: '' })\r\n                return a\r\n            }, [])\r\n            if (theWords.length > 0) theWords.pop()\r\n\r\n            arr = arr.concat(theWords)\r\n        }\r\n        return arr\r\n    }, [])\r\n    // deal '<!--finish-->' word\r\n    words = words.reduce(function (arr, v) {\r\n        if (typeof v === 'object') arr.push(v)\r\n        else {\r\n            var theWords = v.split('<!--finish-->').reduce(function (a, b) {\r\n                if (b !== '') a.push(b)\r\n                a.push({ type: _FINISH_, value: '' })\r\n                return a\r\n            }, [])\r\n            if (theWords.length > 0) theWords.pop()\r\n\r\n            arr = arr.concat(theWords)\r\n        }\r\n        return arr\r\n    }, [])\r\n    // deal '<!--loop(case)-->' word\r\n    words = words.reduce(function (arr, v) {\r\n        if (typeof v === 'object') arr.push(v)\r\n        else {\r\n            var s = v\r\n            var headbegin\r\n            while (s.indexOf('<!--loop(', headbegin) >= 0) {\r\n                var headbegin = s.indexOf('<!--loop(', headbegin)\r\n                var headEnd = s.indexOf(')-->')\r\n                var head = s.substring(headbegin + 9 /*'<!--loop('.length*/, headEnd)\r\n                arr.push(s.substring(0, headbegin))\r\n                arr.push({ type: _LOOP_, value: head })\r\n                s = s.substring(headEnd + 4)\r\n            }\r\n            arr.push(s)\r\n        }\r\n        return arr\r\n    }, [])\r\n\r\n    // deal '<!--if(case)-->' word\r\n    words = words.reduce(function (arr, v) {\r\n        if (typeof v === 'object') arr.push(v)\r\n        else {\r\n            var s = v\r\n            var headbegin\r\n            while (s.indexOf('<!--if(', headbegin) >= 0) {\r\n                var headbegin = s.indexOf('<!--if(', headbegin)\r\n                var headEnd = s.indexOf(')-->')\r\n                var head = s.substring(headbegin + 7 /*'<!--if('.length*/, headEnd)\r\n                arr.push(s.substring(0, headbegin))\r\n                arr.push({ type: _IF_, value: head })\r\n                s = s.substring(headEnd + 4)\r\n            }\r\n            arr.push(s)\r\n        }\r\n        return arr\r\n    }, [])\r\n\r\n    // deal '<!--else(case)-->' word\r\n    words = words.reduce(function (arr, v) {\r\n        if (typeof v === 'object') arr.push(v)\r\n        else {\r\n            var s = v\r\n            while (s.indexOf('<!--else(', headbegin) >= 0) {\r\n                var headbegin = s.indexOf('<!--else(', headbegin)\r\n                var headEnd = s.indexOf(')-->')\r\n                var head = s.substring(headbegin + 9 /*'<!--else('.length*/, headEnd)\r\n                arr.push(s.substring(0, headbegin))\r\n                arr.push({ type: _ELSE_, value: head })\r\n                s = s.substring(headEnd + 4)\r\n            }\r\n            arr.push(s)\r\n        }\r\n        return arr\r\n    }, [])\r\n\r\n    return words\r\n}\r\n\r\nexport default createWords","/**\r\n *  一个简单的解析模板的语法分析器\r\n *  */\r\nvar _END_ = '_END_'\r\nvar _FINISH_ = '_FINISH_'\r\nvar _LOOP_ = '_LOOP_'\r\nvar _IF_ = '_IF_'\r\nvar _ELSE_ = '_ELSE_'\r\n\r\nvar _QUEUE_ = '_QUEUE_'\r\nvar _IF_BLOCK_ = '_IF_BLOCK_'\r\nvar _IF_CASE_ = '_IF_CASE_'\r\nvar _LOOP_CASE_ = '_LOOP_TREE_'\r\n\r\nexport function createTree(words) {\r\n    function newQueue() { return { type: _QUEUE_, queue: [] } }\r\n    function newIf() { return { type: _IF_BLOCK_, ifCaseArr: [] } }\r\n    function newIf_case(condition) { return { type: _IF_CASE_, condition: condition, queue: [] } }\r\n    function newLoop(array) { return { type: _LOOP_CASE_, array: array, queue: [] } }\r\n\r\n    var main = newQueue()\r\n    var stack = {\r\n        _arr: [main],\r\n        top: main,\r\n        push: function (item) {\r\n            this._arr.push(item)\r\n            this.top = item\r\n        },\r\n        pop: function () {\r\n            this._arr.pop()\r\n            this.top = this._arr[this._arr.length - 1]\r\n        }\r\n    }\r\n\r\n    var err = ''\r\n\r\n    words.find(function (v) {\r\n        if (typeof v === 'string') {\r\n            if (!stack.top || !stack.top.queue) {\r\n                return err = '解析模板错误'\r\n            } else {\r\n                stack.top.queue.push(v)\r\n            }\r\n        } else if (v && v.type === _IF_) {\r\n            var a = newIf()\r\n            var b = newIf_case(v.value)\r\n\r\n            a.ifCaseArr.push(b)\r\n\r\n            if (!stack.top || !stack.top.queue) {\r\n                return err = '解析模板错误'\r\n            } else {\r\n                stack.top.queue.push(a)\r\n                stack.push(a)\r\n                stack.push(b)\r\n            }\r\n        } else if (v && v.type === _ELSE_) {\r\n            var b = newIf_case(v.value)\r\n\r\n            stack.pop()\r\n            if (!stack.top || !stack.top.ifCaseArr) {\r\n                return err = '解析模板错误'\r\n            } else {\r\n                stack.top.ifCaseArr.push(b)\r\n                stack.push(b)\r\n            }\r\n        } else if (v && v.type === _FINISH_) {\r\n            if (stack.top.type !== _IF_CASE_) return err = '解析模板错误'\r\n            stack.pop()\r\n            if (stack.top.type !== _IF_BLOCK_) return err = '解析模板错误'\r\n            stack.pop()\r\n        } else if (v && v.type === _LOOP_) {\r\n            var b = newLoop(v.value)\r\n\r\n            if (!stack.top || !stack.top.queue) {\r\n                return err = '解析模板错误'\r\n            } else {\r\n                stack.top.queue.push(b)\r\n                stack.push(b)\r\n            }\r\n        } else if (v && v.type === _END_) {\r\n            if (!stack.top || (stack.top.type !== _LOOP_CASE_)) {\r\n                return err = '解析模板错误'\r\n            } else {\r\n                stack.pop()\r\n            }\r\n        }\r\n    })\r\n\r\n    if (err) console.warn(err)\r\n\r\n    else return main\r\n}\r\n\r\nexport function translateTree(item) {\r\n    if (item && item.type === _QUEUE_) {\r\n        item.queue = item.queue.map(function (v) {\r\n            return translateTree(v)\r\n        })\r\n        return item\r\n    } else if (item && item.type === _IF_BLOCK_) {\r\n        item.ifCaseArr = item.ifCaseArr.map(function (v) {\r\n            return translateTree(v)\r\n        })\r\n        return item\r\n    } else if (item && item.type === _IF_CASE_) {\r\n        item.queue = item.queue.map(function (v) {\r\n            return translateTree(v)\r\n        })\r\n        return item\r\n    } else if (item && item.type === _LOOP_CASE_) {\r\n        item.queue = item.queue.map(function (v) {\r\n            return translateTree(v)\r\n        })\r\n        return item\r\n    } else if (typeof item === 'string') {\r\n        return createContent(item)\r\n    }\r\n}\r\n\r\n\r\n/**\r\n *  从语法树中取去模板字符串\r\n *  */\r\nvar _CONTENT_ = '_CONTENT_'\r\nvar _DATA_ = '_DATA_'\r\n\r\nexport function createContent(str) {\r\n    function newData(data) {\r\n        return {\r\n            type: _DATA_,\r\n            data: data\r\n        }\r\n    }\r\n    var content = {\r\n        type: _CONTENT_,\r\n        queue: []\r\n    }\r\n\r\n    var s = str\r\n    var begin = -1\r\n    while ((begin = s.indexOf('${')) >= 0) {\r\n        content.queue.push(s.substring(0, begin))\r\n        var rest = s.substring(begin)\r\n        var end = rest.indexOf('}')\r\n        if (end < 0) {\r\n            content.queue.push(rest)\r\n            break\r\n        }\r\n        var data = rest.substring(2, end)\r\n        content.queue.push(newData(data))\r\n        s = rest.substring(end + 1)\r\n    }\r\n    content.queue.push(s)\r\n\r\n    return content\r\n}","import createWords from './createWords'\r\nimport { createTree, translateTree } from './createTree'\r\n\r\nexport default function (str) {\r\n    var words = createWords(str)\r\n    // console.log(words)\r\n    var tree = createTree(words)\r\n    // console.log(tree)\r\n    var content = translateTree(tree)\r\n    // console.log(content)\r\n    return content\r\n}","\r\n\r\n\r\n\r\nvar _CONTENT_ = '_CONTENT_'\r\nvar _DATA_ = '_DATA_'\r\n\r\n\r\nvar _QUEUE_ = '_QUEUE_'\r\nvar _IF_BLOCK_ = '_IF_BLOCK_'\r\nvar _IF_CASE_ = '_IF_CASE_'\r\nvar _LOOP_CASE_ = '_LOOP_TREE_'\r\n\r\n\r\n// 解决严格模式不能用 with 语句的问题\r\nvar evalData = new Function('__str__', 'data',\r\n    'try {' +\r\n    'with (data) {' +\r\n    'return eval(__str__.replace(/\\\\&amp\\\\;/g, \"&\").replace(/\\\\&gt\\\\;/, \">\"))' +\r\n    '}' +\r\n    '} catch (e) {' +\r\n    'console.warn(\"err:\" + __str__)' +\r\n    '}'\r\n)\r\n\r\nwindow.evalData = evalData\r\n\r\nfunction load(v, data) {\r\n\r\n    if (!v) return ''\r\n\r\n    if (typeof v === 'string') return v\r\n\r\n    if (v instanceof Array) return v.map(function (v) { return load(v, data) }).join('')\r\n\r\n    switch (v.type) {\r\n\r\n        case _CONTENT_: return load(v.queue, data)\r\n\r\n        case _QUEUE_: return load(v.queue, data)\r\n\r\n        case _DATA_: return evalData(v.data, data)\r\n\r\n        case _IF_BLOCK_:\r\n            var r = v.ifCaseArr.find(function (cas) {\r\n                if (cas.type !== _IF_CASE_) throw new Error('shelf parse error')\r\n                if (evalData(cas.condition, data)) return true\r\n                else return false;\r\n            })\r\n\r\n            if (r) return load(r.queue, data)\r\n            else return ''\r\n\r\n        case _LOOP_CASE_:\r\n            var arr = evalData(v.array, data)\r\n            if (!(arr instanceof Array)) throw new Error('shelf parse error')\r\n\r\n            return arr.map(function (item, index, array) {\r\n                return load(v.queue, $.extend({}, data, { _index: index, _item: item, _array: array }))\r\n            }).join('')\r\n    }\r\n}\r\n\r\nexport default load\r\n\r\n","import get from './get'\r\nimport parse from './parse/index'\r\nimport load from './load'\r\n\r\nexport default {\r\n    get:get,\r\n    parse:parse,\r\n    load:load\r\n}\r\n","import template from './template/index'\r\n\r\nexport default function (store) {\r\n\r\n    function getCmpt(name) { return store.find(function (v) { return v.name === name }) }\r\n    // 将 url 信息添加到组件\r\n    $('script').get().filter(function (v) {\r\n        return /^shelf-/.test(v.className)\r\n    }).map(function (v) {\r\n        var src = v.src\r\n        var name = v.className.match(/^shelf-(\\w*)/)[1]\r\n        if (getCmpt(name)) { getCmpt(name).url = src }\r\n    })\r\n\r\n    // 通过 ajax 获取外部的组件模板\r\n    return new Promise(function (res) {\r\n        Promise.all(\r\n            store.filter(function (v) {\r\n                return v.path\r\n            }).map(function (v) {\r\n                return {\r\n                    name: v.name,\r\n                    url: path_resolve(v.url, v.path)\r\n                }\r\n            }).map(function (v) {\r\n                return new Promise(function (res, rej) {\r\n                    template.get(v.url).then(function (data) {\r\n                        getCmpt(v.name).template = template.parse(data)\r\n                        res()\r\n                    })['catch'](function (e) {\r\n                        rej('shelf load error' + e ? (':' + e) : '!')\r\n                    })\r\n                })\r\n            })\r\n        )['finally'](function () {\r\n            res()\r\n        })\r\n    })\r\n\r\n}\r\n\r\n\r\n// 只能解析路径，不可以用于解析 url\r\nfunction path_resolve(from, to) {\r\n    var to_arr = $.trim(to).split('/')\r\n    // 绝对路径的情况\r\n    if (to_arr[0] === '') return to\r\n    if (to_arr[0] === 'http') return to\r\n    if (to_arr[0] === 'https') return to\r\n\r\n    var back = 1\r\n    while (to_arr[0] === '..' || to_arr[0] === '.') {\r\n        if (to_arr[0] === '.') {\r\n            to_arr.shift()\r\n            break\r\n        }\r\n        if (to_arr[0] === '..') {\r\n            back++\r\n            to_arr.shift()\r\n        }\r\n    }\r\n\r\n    var from_arr = $.trim(from).split('/')\r\n\r\n    for (var i = 0; i < back; i++) {\r\n        if (from_arr.length === 0) from_arr.push('..')\r\n        else if (from_arr[from_arr.length - 1] === '..') from_arr.push('..')\r\n        else if (from_arr[from_arr.length - 1] === '.') {\r\n            from_arr.pop()\r\n            from_arr.push('..')\r\n        } else { from_arr.pop() }\r\n    }\r\n\r\n    return from_arr.concat(to_arr).join('/')\r\n}","import template from './template/index'\r\n\r\nvar load = template.load\r\n\r\nfunction dom(str) {\r\n    var v = document.createElement('div')\r\n    v.innerHTML = $.trim(str)\r\n    return v.firstChild\r\n}\r\n// 节流函数，用于监听滚动\r\nfunction throttle(fn, delay) {\r\n    var timeout = null\r\n    var PromiseRes = []\r\n    return function () {\r\n        return new Promise(function (res) {\r\n            var _this = this\r\n            PromiseRes.push(res)\r\n\r\n            if (timeout) clearTimeout(timeout)\r\n\r\n            timeout = setTimeout(function () {\r\n                fn.call(_this, arguments)\r\n                PromiseRes.forEach(function (v) { if (v) v() })\r\n                PromiseRes = []\r\n                timeout = null\r\n            }, delay)\r\n        })\r\n    }\r\n}\r\n\r\nfunction common(op, component, store) {\r\n    var option = $.extend({}, op)\r\n\r\n    console.log(option)\r\n\r\n    var name = option.name\r\n    var path = option.path\r\n    var template = option.template\r\n    var $static = option.static || {}\r\n\r\n    console.log($static)\r\n\r\n    var cmptClass = component\r\n\r\n    if (!name) return\r\n    if (!template && !path) return\r\n    if (!(typeof cmptClass === 'function')) return\r\n\r\n    return {\r\n        name: name,\r\n        path: path,\r\n        creator: $.extend(\r\n            function (container, props) {\r\n                var cntr = container || dom('<div></div>')\r\n                var option = cmptClass() || {}\r\n                var cmpt = store.find(function (v) { return v.name === name })\r\n                var template = cmpt ? cmpt.template ? cmpt.template : [] : []\r\n\r\n                var render = option.render || function (props) { return props || {} }\r\n                var init = option.init || function () { }\r\n\r\n                var data = render(props)\r\n                var html = load(template, data)\r\n                var outer = option.outer || {}\r\n\r\n                var obj = {\r\n                    name: name,\r\n                    data: data,\r\n                    root: cntr,\r\n                    template: template,\r\n                    update: throttle(function () {\r\n                        $(cntr).children().get().forEach(function (v) {\r\n                            cntr.removeChild(v)\r\n                        })\r\n                        cntr.innerHTML = load(obj.template, obj.data)\r\n                        init.call(obj, cntr)\r\n                    }, 100),\r\n                    emit: function (name, argus) {\r\n                        if (typeof outer[name] === 'function') {\r\n                            return outer[name].apply(obj, argus ? argus : [])\r\n                        }\r\n                    },\r\n                    destroy: function () {\r\n                        $(obj.root).remove()\r\n                        delete obj.template\r\n                        delete obj.data\r\n                        delete obj.name\r\n                        delete obj.root\r\n                        delete obj.update\r\n                        delete obj.destroy\r\n                        delete obj.emit\r\n                    }\r\n                }\r\n                $(cntr).children().get().forEach(function (v) {\r\n                    cntr.removeChild(v)\r\n                })\r\n                cntr.innerHTML = html\r\n                init.call(obj, cntr)\r\n                return obj\r\n            },\r\n            $static\r\n        )\r\n    }\r\n}\r\n\r\nexport default function (store) {\r\n    return {\r\n        defineWithPath: function (name, path, cmptClass) {\r\n            var cmpt = common({ name: name, path: path }, cmptClass, store)\r\n            if (cmpt) store.push(cmpt)\r\n        },\r\n        defineWithStaticAttr: function (cmptClass) {\r\n            var cmpt = common({ name: cmptClass.name, path: cmptClass.path, template: cmptClass.template }, cmptClass, store)\r\n            if (cmpt) store.push(cmpt)\r\n        },\r\n        defineCommon: function (op, component) {\r\n            var cmpt = common(op, component, store)\r\n            if (cmpt) store.push(cmpt)\r\n        }\r\n    }\r\n}","import template from './template/index'\r\nimport scan from './scan'\r\nimport define from './define'\r\n\r\nvar store = []\r\nvar task = []\r\nvar defFunc = define(store)\r\n\r\n\r\nvar Shelf = {\r\n    template: template,\r\n\r\n    define: defFunc.defineCommon,\r\n\r\n    get: function (name) { \r\n        var cmpt = store.find(function (v) { return v.name === name })\r\n        if(cmpt) return cmpt.creator\r\n        else throw new Error(\"Can't find the component named '\"+name+\"'!\")\r\n    },\r\n\r\n    done: function (cb) {\r\n        if (task) {\r\n            if(cb) task.push(cb)\r\n            \r\n            return new Promise(function(res,rej){\r\n                task.push(res)\r\n            })\r\n        }\r\n        else {\r\n            if(cb) cb()\r\n            return new Promise(function(res,rej){\r\n                res()\r\n            })\r\n        }\r\n        \r\n    },\r\n\r\n    _:{\r\n        store:function(){return store},\r\n        task:function(){return task}\r\n    }\r\n}\r\n\r\n$(function () {\r\n    scan(store).then(function () {\r\n        // 加载完成则调用 task 上所有挂载的任务 \r\n        if (task) task.forEach(function (cb) { cb() })\r\n        // 不需要 task 去存储任务\r\n        task = null\r\n    })\r\n})\r\n\r\nexport default Shelf"],"names":["_END_","_FINISH_","_LOOP_","_IF_","_ELSE_","_CONTENT_","_DATA_","_QUEUE_","_IF_BLOCK_","_IF_CASE_","_LOOP_CASE_","load"],"mappings":"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"}